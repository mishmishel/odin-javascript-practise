<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <script src="javascript.js"></script> --> 
</head>
<body>
    <script>
        // Your JavaScript goes here!

        // console.log() is the command to print something to the developer console in your browser.
        console.log("Hello, World!")

        // Can declare variables using the let keyword
        let firstName = "John";
        let lastName = "Doe";
        console.log(firstName);
        console.log(lastName);

        // Reassigning variables
        let age = 11;
        console.log(age);

        age = 54;
        console.log(age);

        // const keyword prevents a variable from being reassigned
        const pi = 3.14;
        // pi = 10; will result in Uncaught TypeError
        console.log(pi);

        // Math Practise
        console.log(23 + 97);
        console.log(1 + 2 + 3 + 4 + 5 + 6);
        console.log((4 + 6 + 9) / 77);

        let a = 10;
        console.log(a);
        a = 12;
        console.log(a);
        let b = 7 * a;
        console.log(b);

        const max = 57;
        const actual = max - 13;
        const percentage = actual / max;
        console.log(percentage);

        // JavaScript Data Types

        // Strings

        const string = "The revolution will not be televised.";
        console.log(string);
        // const badString1 = This is a test; Missing quotes results in Uncaught SyntaxError

        // Can choose single quotes (''), double quotes (""), or backticks (``) to wrap strings in.
        const single = 'Single quotes';
        const double = "Double quotes";
        const backtick = `Backtick`;

        console.log(single);
        console.log(double);
        console.log(backtick);

        // Embedding Javascript
        const name = "Chris"; 
        const greeting = `Hello, ${name}`; // Strings declared using backticks are called a template literal. Can embed JavaScript in them, you can declare template literals over multiple lines.
        console.log(greeting); // "Hello, Chris"

        const one = "Hello, ";
        const two = "how are you?";
        const joined = `${one}${two}`;
        console.log(joined); // "Hello, how are you?"

        // Can include JavaScript expressions in template literals, as well as just variables.
        const song = "Fight the Youth";
        const score = 9;
        const highestScore = 10;
        const output = `I like the song ${song}. I gave it a score of ${
        (score / highestScore) * 100
        }%.`;
        console.log(output); // "I like the song Fight the Youth. I gave it a score of 90%."

        // Template literals respect line breaks in the source code, so can write strings that span multiple lines
        const newline = `One day you finally knew
        what you had to do, and began,`;
        console.log(newline);

        // To have the equivalent output using a normal string you'd have to include line break characters (\n) in the string
        const newline2 = "One day you finally knew\nwhat you had to do, and began,";
        console.log(newline2);

        // String() function converts its argument to a string
        const myNum2 = 123;
        const myString2 = String(myNum2);
        console.log(typeof myString2);
        // string

        // JavaScript String Length
        let text = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        let length = text.length; // length property returns the length of a string

        // Extracting String Characters (4 methods)
        let char = text.charAt(0); // charAt() method returns the character at a specified index (position) in a string

        let char1 = text.charCodeAt(0); //charCodeAt() method returns the code of the character at a specified index in a string
        // The method returns a UTF-16 code (an integer between 0 and 65535).

        let code = text.codePointAt(0); // Get code point value at the first position in a string

        let letter = text.at(2); // at() method returns character at a specified index in a string

        let char2 = text[0]; // Property access - but unpredictable in JavaScript. Makes strings look like arrays, if no character is found, [] returns undefined while charAt() returns empty string
        text[0] = "A"; // Gives no error, but does not work

        // JavaScript String concat()
        let text1 = "Hello";
        let text2 = "World";
        let text3 = text1.concat(" ", text2); // concat() joins two or more strings

        // All string methods return a new string, they don't modify the original string.
        // Formally, strings are immmutable, cannot be changed, only replaced.

        // Extracting String Parts

        // slice() - extracts part of a string, returns extracted part in a new string
        let fruit = "Apple, Banana, Kiwi";
        let part = fruit.slice(7, 13); // takes two parameters, start position and end position (end not included)

        // If you omit second parameter, method will slice out rest of the string
        let part2 = fruit.slice(7);

        // If a parameter is negative, the position is counted from the end of the string
        let part3 = fruit.slice(-12);

        // substring() - similar to slice, but start and end values less than 0 treated as 0
        let part4 = fruit.substring(7, 13);

        // Converting to Upper and Lower Case
        let str1 = 'Hello World!';
        let str2 = str1.toUpperCase();
        let str3 = str1.toLowerCase();

        // trim() method removes whitespace from both sides of a string
        let text4 = "    Hello World!   ";
        let text5 = text4.trim();

        // trimStart() method works like trim() but removes whitespace only from the start of the string
        let text6 = text4.trimStart();

        // trimEnd() method works like trim(), but removes whitespace only from the end of a string
        let text7 = text4.trimEnd();

        // String Padding

        // padStart() method pads a string from the start
        let text8 = "5";
        let padded = text8.padStart(4, "0"); // Pad a string with 0 until it reaches the length 4
        let padded1 = text8.padStart(4,"x"); // Pad a string with x until it reaches the length 4

        // padStart() is a string method, to pad a number, convert number to a string first

        // padEnd() method pads a string from the end
        let padded2 = text8.padEnd(4, "0");

        // repeat() - returns a new string with a number of copies of a string, does not modify original string
        let text9 = "Hello World!";
        let result = text9.repeat(2);

        // replace() method replaces specified value with another value in a string - does not change string it is called on, returns new string
        let text10 = "Please visit Microsoft!";
        let newText = text10.replace("Microsoft", "W3Schools");

        // By default, replace() method replaces only the first match, is case sensitive

        // To replace case insensitive, use a regular expression with an /i flag
        let newText2 = text10.replace(/MICROSOFT/i, "W3Schools");

        // To replace all matches, use a regular expression with a /g flag (global match)
        let text11 = "Please visit Microsoft and Microsoft!";
        let newText3 = text11.replace(/Microsoft/g, "W3Schools");

        // Converting a String to an Array
        // A string can be converted to an array with the split() method

        text.split(",")    // Split on commas
        text.split(" ")    // Split on spaces
        text.split("|")    // Split on pipe

        // If the separator is ommitted, the returned array will contain the whole string in index[0].
        // If the separator is "", the returned array will be an array of single characters.

        text.split("")

        // Conditionals
        let shoppingDone = false;
        let childAllowance;

        if (shoppingDone === true) {
        childAllowance = 10;
        } else {
        childAllowance = 5;
        }

        // Switch Statements

        // switch (expression) {
        //     case choice1:
        //         // run this code
        //         break;

        //     case choice2:
        //         // run this code instead
        //         break;

        //     // include as many cases as you like

        //     default:
        //         // actually, just run this code
        //         break;
        // }

        // Ternary Operator

        isBirthday = true;
        const greeting1 = isBirthday ? "Happy birthday Mrs. Smith â€” we hope you have a great day!" : "Good morning Mrs. Smith."
        
        // condition ? run this code : run this code instead

        // Functions

        // Basic function structure
        function favoriteAnimal(animal) {
            return animal + " is my favorite animal!"
        }

        const message = favoriteAnimal('Goat')
        console.log(message)

        // If function called but an argument is not provided, corresponding value becomes undefined

        // Default values
        function showMessage(from, text="no text given") {
            alert(from + ": " + text);
        }

        showMessage("Ann"); // Ann: no text given

        function exampleMessage(from, text=showMesssage()) {
            // showMessage() only executed if no text given
            // Its result becomes the value of the text
        }

        // Function Expression
        let sayHi = function() {
            alert("Hello");
        }

        function sayHi2() {
            alert( "Hello" );
        }

        alert( sayHi2 ); // shows the function code
        // the last line does not run the function, because there are no parentheses after sayHi

        // Functions are values

        // We can copy a function to another variable:

        function sayHi3() {   // (1) create
            alert( "Hello" );
        }

        let func = sayHi3;    // (2) copy

        func(); // Hello     // (3) run the copy (it works)!
        sayHi3(); // Hello    //     this still works too (why wouldn't it)

        // Function Expression vs. Function Declaration

        // Function Declaration: a function, declared as a separate statement, in the main code flow
        // A Function Declaration can be called earlier than it is defined.
        function sum(a, b) {
            return a + b;
        }

        // Function Expression: a function, created inside an expression or inside another syntax construct. 
        // A Function Expression is created when the execution reaches it and is usable only from that moment.
        let sum1 = function(a, b) {
            return a + b;
        };

        // Practise
        function add7(num) {
            return num + 7;
        }

        console.log(add7(10));

        function multiply(a, b) {
            return a * b;
        }

        console.log(multiply(2,3));

        function capitalize(str) {
            lowerstr = str.toLowerCase();
            return str.charAt(0).toUpperCase() + lowerstr.slice(1);
        }

        console.log(capitalize('Abcd'));
        console.log(capitalize('ABCD'));
        console.log(capitalize('aBcD'));

        function lastLetter(str) {
            return str[str.length - 1];
        }

        console.log(lastLetter('Abcd'));

        // Error Types
        // ReferenceError: thrown when one refers to a variable that is not declared and/or initialized within the current scope.
        // SyntaxError: occurs when the code you are trying to run is not written correctly, i.e., in accordance with the grammatical rules of JavaScript.
        // TypeError: Thrown when 1. an operand or argument passed to a function is incompatible with the type expected by that operator or function
        // 2. or when attempting to modify a value that cannot be changed 3. or when attempting to use a value in an inappropriate way

        // JavaScript Loops
        const cats = ["Leopard", "Serval", "Jaguar", "Tiger", "Caracal", "Lion"];

        for (const cat of cats) {
            console.log(cat);
        }

        // map() calls the function once for each item in the array, passing in the item. 
        // It then adds the return value from each function call to a new array, and finally returns the new array
        const upperCats = cats.map(toUpper);

        // filter()
        function lCat(cat) {
            return cat.startsWith("L");
        }

        // with filter, function we pass in returns a boolean: if it returns true, then the item is included in the new array.
        const filtered = cats.filter(lCat);

        // map() and filter() are both often used with function expressions

        // for i loop
        for (let i = 0; i < cats.length; i++) {
            console.log(cats[i]);
        }

        const cats1 = ["Pete", "Biggles", "Jasmine"];

        let myFavoriteCats = "My cats are called ";

        for (const cat of cats1) {
            myFavoriteCats += `${cat}, `;
        }

        console.log(myFavoriteCats); // "My cats are called Pete, Biggles, Jasmine, "

        // Want to handle last case differently
        for (let i = 0; i < cats.length; i++) {
            if (i === cats.length - 1) {
                // We are at the end of the array
                myFavoriteCats += `and ${cats[i]}.`;
            } else {
                myFavoriteCats += `${cats[i]}, `;
            }
        }

        console.log(myFavoriteCats); // "My cats are called Pete, Biggles, and Jasmine."
    </script>
</body>
</html>